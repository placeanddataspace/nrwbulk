% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ld_family_download.R
\name{ld_family_download}
\alias{ld_family_download}
\title{Lade alle Tabellen einer GENESIS-Statistikfamilie herunter}
\usage{
ld_family_download(prefix, outdir = "downloads", parallel = TRUE)
}
\arguments{
\item{prefix}{Zeichenkette: Statistik-Prefix, z. B. \code{"224"}.
Bestimmt die zu ladende Statistikfamilie.}

\item{outdir}{Zeichenkette: Zielordner für die Downloads.
Standard ist \code{"downloads"}. Unterordner pro Statistik (z. B. \code{"22411"})
werden automatisch erstellt.}

\item{parallel}{Logisch: Soll der Download parallel erfolgen?
Wenn \code{TRUE}, wird \code{future.apply::future_lapply()} verwendet (falls verfügbar).}
}
\value{
Eine Liste der geladenen Dataframes. Tabellen, die bereits lokal
gespeichert sind, werden erneut eingelesen, aber nicht erneut heruntergeladen.
}
\description{
Diese Funktion lädt alle verfügbaren Tabellen (CSV) einer
Statistikfamilie der Landesdatenbank NRW (GENESIS-API) herunter.
Der Familien-Prefix (z. B. \code{"224"}) bestimmt die Statistikfamilie.
}
\details{
Für jede Tabelle wird \code{ld_post_tablefile()} aufgerufen, das die
entsprechende CSV-Tabelle von der API abruft. Die Dateien können
optional parallel mit \code{future.apply} heruntergeladen werden.

Die Funktion ruft intern:
\itemize{
\item \code{ld_family()} zum Abrufen der Tabellenliste,
\item \code{ld_post_tablefile()} zum Abrufen der einzelnen CSV-Dateien.
}

Bereits vorhandene Dateien werden übersprungen.
}
\examples{
\dontrun{
# Lade alle Tabellen der Statistikfamilie 224 herunter:
df_list <- ld_family_download("224", outdir = "downloads_224")
}

}
\seealso{
\code{\link[=ld_family]{ld_family()}}, \code{\link[=ld_post_tablefile]{ld_post_tablefile()}}
}
